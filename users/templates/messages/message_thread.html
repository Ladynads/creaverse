{% extends "base.html" %}
{% block content %}
<h2>ðŸ’¬ Chat with {{ receiver.username }}</h2>

<div style="border: 1px solid #ccc; padding: 10px; max-width: 600px; margin-bottom: 10px;">
    {% for message in messages %}
        <p>
            <strong>{{ message.sender.username }}:</strong> {{ message.content }}
        </p>
    {% empty %}
        <p>No messages yet. Start the conversation!</p>
    {% endfor %}
</div>

<!-- âœ… Fix: Pass receiver.id in the URL -->
<form method="POST" action="{% url 'send_message' receiver.id %}">
    {% csrf_token %}
    <textarea name="content" placeholder="Type your message..." required></textarea>
    <button type="submit">Send</button>
</form>

<a href="{% url 'message_list' %}">â¬… Back to Inbox</a>
{% endblock %}

